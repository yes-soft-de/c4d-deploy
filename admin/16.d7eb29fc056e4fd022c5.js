(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{hEQw:function(t,e,r){"use strict";r.r(e),r.d(e,"ReportsModule",function(){return X});var n=r("vTDv"),o=r("tyNb"),c=r("XNiG"),s=r("1G5W"),a=r("fXoL"),i=r("z6cu"),b=r("JIr8"),l=r("EWl0"),p=r("tk/3"),d=r("ytdW");let u=(()=>{class t{constructor(t,e){this.httpClient=t,this.tokenService=e}static errorHandler(t){return Object(i.a)(t||"Server Error")}allReports(){return this.httpClient.get(l.a.reportsAPI,this.tokenService.httpOptions()).pipe(Object(b.a)(t.errorHandler))}updateNewMessageStatus(t){return this.httpClient.put(`${l.a.updateNewMessageStatusAPI}/${t}`,{id:t},this.tokenService.httpOptions())}}return t.\u0275fac=function(e){return new(e||t)(a.cc(p.a),a.cc(d.a))},t.\u0275prov=a.Pb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=r("5eHb"),h=r("ofXK"),m=r("oOf3"),f=r("sYmb");function v(t,e){if(1&t){const t=a.Zb();a.Yb(0,"tr"),a.Yb(1,"th",14),a.Dc(2),a.Xb(),a.Yb(3,"th",14),a.Dc(4),a.Xb(),a.Yb(5,"th",14),a.Dc(6),a.Xb(),a.Yb(7,"th",14),a.Dc(8),a.ic(9,"translate"),a.Xb(),a.Yb(10,"th",14),a.Yb(11,"a",15),a.fc("click",function(){a.wc(t);const r=e.$implicit;return a.hc(3).updateMessageStatus(null==r?null:r.id,null==r?null:r.newMessageStatus)}),a.Dc(12),a.ic(13,"translate"),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=e.$implicit;a.Gb(2),a.Ec(null!=t&&t.orderId?null==t?null:t.orderId:"-"),a.Gb(2),a.Ec(null!=t&&t.userName?null==t?null:t.userName:"-"),a.Gb(2),a.Ec(null!=t&&t.reason?null==t?null:t.reason:"-"),a.Gb(1),a.Lb("text-danger",null==t?null:t.newMessageStatus),a.Gb(1),a.Ec(null!=t&&t.newMessageStatus?a.jc(9,9,"new-message"):"-"),a.Gb(3),a.rc("routerLink","/chat/view/report/",null==t?null:t.id,"/",null==t?null:t.uuid,""),a.Gb(1),a.Ec(a.jc(13,11,"chat"))}}function w(t,e){if(1&t){const t=a.Zb();a.Yb(0,"div"),a.Yb(1,"div",4),a.Yb(2,"div",5),a.Ub(3,"div",6),a.Yb(4,"div",7),a.Yb(5,"table",8),a.Yb(6,"thead"),a.Yb(7,"tr"),a.Yb(8,"th",9),a.Dc(9),a.ic(10,"translate"),a.Xb(),a.Yb(11,"th",9),a.Dc(12),a.ic(13,"translate"),a.Xb(),a.Yb(14,"th",9),a.Dc(15),a.ic(16,"translate"),a.Xb(),a.Yb(17,"th",10),a.Dc(18),a.ic(19,"translate"),a.Xb(),a.Yb(20,"th",9),a.Dc(21),a.ic(22,"translate"),a.Xb(),a.Xb(),a.Xb(),a.Yb(23,"tbody"),a.Cc(24,v,14,13,"tr",11),a.ic(25,"paginate"),a.Xb(),a.Xb(),a.Xb(),a.Xb(),a.Yb(26,"div",12),a.Yb(27,"pagination-controls",13),a.fc("pageChange",function(e){return a.wc(t),a.hc(2).pageChanged(e)}),a.ic(28,"translate"),a.ic(29,"translate"),a.ic(30,"translate"),a.Xb(),a.Xb(),a.Xb(),a.Xb()}if(2&t){const t=a.hc(2);a.Gb(9),a.Ec(a.jc(10,9,"order-id")),a.Gb(3),a.Ec(a.jc(13,11,"username")),a.Gb(3),a.Ec(a.jc(16,13,"reason")),a.Gb(3),a.Ec(a.jc(19,15,"message-status")),a.Gb(3),a.Ec(a.jc(22,17,"chat")),a.Gb(3),a.oc("ngForOf",a.kc(25,19,t.reportsList,t.config)),a.Gb(3),a.pc("previousLabel",a.jc(28,22,"prev")),a.pc("nextLabel",a.jc(29,24,"next")),a.pc("screenReaderCurrentLabel",a.jc(30,26,"you-are-on-page"))}}function x(t,e){1&t&&(a.Yb(0,"div"),a.Yb(1,"div",16),a.Yb(2,"div",17),a.Dc(3),a.ic(4,"translate"),a.Xb(),a.Xb(),a.Xb()),2&t&&(a.Gb(3),a.Ec(a.jc(4,1,"report-not-exists")))}function C(t,e){if(1&t&&(a.Yb(0,"div",2),a.Yb(1,"h1",3),a.Dc(2),a.ic(3,"translate"),a.Xb(),a.Cc(4,w,31,28,"div",1),a.Cc(5,x,5,3,"div",1),a.Xb()),2&t){const t=a.hc();a.Gb(2),a.Ec(a.jc(3,3,"all-reports")),a.Gb(2),a.oc("ngIf",0!==t.reports.length),a.Gb(1),a.oc("ngIf",0===t.reports.length)}}function M(t,e){1&t&&(a.Yb(0,"div"),a.Yb(1,"div",18),a.Ub(2,"div"),a.Ub(3,"div"),a.Ub(4,"div"),a.Ub(5,"div"),a.Xb(),a.Xb())}const O=[{path:"",component:(()=>{class t{constructor(t,e,r){this.reportService=t,this.router=e,this.toaster=r,this.destroy$=new c.a,this.reportsList=[]}ngOnInit(){this.reportService.allReports().pipe(Object(s.a)(this.destroy$)).subscribe(t=>{t&&(this.reports=t.Data,this.reportsList=t.Data.reverse(),this.config={itemsPerPage:5,currentPage:1,totalItems:this.reportsList.length})},t=>this.handleError(t))}handleError(t){this.reports=[],console.log(t),t.error.error?this.toaster.error(t.error.error):t.error.msg&&this.toaster.error(t.error.msg)}updateMessageStatus(t,e){e&&(console.log("update Message Status sending ",e),this.reportService.updateNewMessageStatus(t).subscribe(t=>console.log("Update Message Status : ",t)))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}pageChanged(t){this.config.currentPage=t}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(u),a.Tb(o.c),a.Tb(g.b))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-all-reports"]],decls:2,vars:2,consts:[["class","reports",4,"ngIf"],[4,"ngIf"],[1,"reports"],[1,"bg-light-blue","text-white","font-weight-bold","p-3"],[1,"container-fluid"],[1,"card","border","bg-white","text-light-blue","mt-2","mt-sm-3","mt-md-4"],[1,"card-header","bg-white","py-3"],[1,"card-body","table-responsive","bg-white","text-center"],[1,"table"],["scope","col"],["scope","col",1,"message-state-head"],[4,"ngFor","ngForOf"],[1,"mt-3","text-center"],["autoHide","true","maxSize","5","responsive","true","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page",1,"my-pagination",3,"previousLabel","nextLabel","screenReaderCurrentLabel","pageChange"],["scope","row"],[1,"font-weight-bold","text-success",3,"routerLink","click"],[1,"container"],[1,"alert","alert-primary","text-center","mt-5"],[1,"lds-ring"]],template:function(t,e){1&t&&(a.Cc(0,C,6,5,"div",0),a.Cc(1,M,6,0,"div",1)),2&t&&(a.oc("ngIf",e.reports),a.Gb(1),a.oc("ngIf",null==e.reports))},directives:[h.m,h.l,m.c,o.d],pipes:[f.c,m.b],styles:["@media (min-width:992px) and (max-width:1199px){.reports[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2.2rem}}@media (min-width:768px) and (max-width:991px){.reports[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2rem}}@media (min-width:576px) and (max-width:767px){.reports[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:2rem;background:none!important;color:#21a5b8!important}}@media (max-width:575px){.reports[_ngcontent-%COMP%] > h1[_ngcontent-%COMP%]{font-size:1.8rem;background:none!important;color:#21a5b8!important}}.reports[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border-radius:20px}.reports[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{box-shadow:1px 1px 12px rgba(0,0,0,.1),-1px -1px 12px rgba(0,0,0,.1);z-index:0;border-radius:20px 20px 0 0}.reports[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{border-radius:0 0 20px 20px}.reports[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .reports[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:.3rem}"]}),t})()}];let P=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[o.e.forChild(O)],o.e]}),t})(),X=(()=>{class t{}return t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({factory:function(e){return new(e||t)},imports:[[n.a,P]]}),t})()}}]);